# Bookmarklet(Easy)

## Description
Why search for the flag when I can make a bookmarklet to print it for me?
Additional details will be available after launching your challenge instance.

- Hint
  - A bookmarklet is a bookmark that runs JavaScript instead of loading a webpage.
  - What happens when you click a bookmarklet?
  - Web browsers have other ways to run JavaScript too.

Challenge Link: https://play.picoctf.org/practice/challenge/406

---

## Solution
### 1. Copy the Bookmarklet
![image](https://github.com/user-attachments/assets/d2323e85-9132-4648-a069-dc8367facf98)
```bash
        javascript:(function() {
            var encryptedFlag = "àÒÆÞ¦È¬ëÙ£ÖÓÚåÛÑ¢ÕÓÔÅÐÙí";
            var key = "picoctf";
            var decryptedFlag = "";
            for (var i = 0; i < encryptedFlag.length; i++) {
                decryptedFlag += String.fromCharCode((encryptedFlag.charCodeAt(i) - key.charCodeAt(i % key.length) + 256) % 256);
            }
            alert(decryptedFlag);
        })();
    
```

### 2. Execute the JavaScript
#### Option A - Go to the console tab and paste the JavaScript code and execute it. 
![image](https://github.com/user-attachments/assets/fc2ef797-8575-4485-a511-3476e1136f0d)

#### Option B - Creating a Bookmarklet
Create a new bookmark in your browser. For the URL field, paste the entire JavaScript snippet. Click the bookmark while on the challenge page to trigger the alert() with the flag.
![image](https://github.com/user-attachments/assets/a4f9f507-ab41-4d50-a293-506aaa3f1ae4)

### 3. Flag 
![image](https://github.com/user-attachments/assets/75d4bb32-7ad9-4efd-a292-affee524820a)

## How it works
The JavaScript code in this challenge hides the flag using a basic form of encryption. Here's how it works:

- It starts with an encrypted string representing the flag.
```bash
var encryptedFlag = "àÒÆÞ¦È¬ëÙ£ÖÓÚåÛÑ¢ÕÓÔÅÐÙí";
```
This is the encrypted flag.

- It uses the word "picoctf" as a key to decrypt it.
```bash
var key = "picoctf";
```

- The script loops through each character of the encrypted flag and subtracts the ASCII value of the matching key character (repeating the key as needed) to decode each letter of the original flag.
```bash
  var decryptedFlag = "";
            for (var i = 0; i < encryptedFlag.length; i++) {
                decryptedFlag += String.fromCharCode((encryptedFlag.charCodeAt(i) - key.charCodeAt(i % key.length) + 256) % 256);
            }
```
- Once decrypted, it shows the real flag using a popup (alert()) when executed.

Because all of this happens in your browser (the encrypted flag, the key, and the code), we can just look at it and run it ourselves. This shows why it’s not safe to hide sensitive info in JavaScript, since users can always inspect and run the code.

## Flag
```bash
picoCTF{p@g3_turn3r_1d1ba7e0}
```



  
